define(function(e,t,n){function i(e,t){this.name=e,this.options=t||{},this.el=null,this.width=0,this.height=0,this.left=0,this.top=0,this.x=0,this.y=0,this.moving=!1,this.lucky=!1,this.createEl(),this.move()}function r(e,t){return e=e||0,t=t||1,Math.floor(Math.random()*(t-e+1)+e)}var o=e("jquery"),a=500,s=900,l=60,u=60,c=200,d=200,h=100,f=100,p=500,g=500;n.exports=i,i.prototype.createEl=function(){this.el=o("<li>"+this.name+"</li>").appendTo("#balls"),this.width=this.el.width(),this.height=this.el.height()},i.prototype.move=function(e){this.left=r(0,s-this.width),this.top=r(0,a-this.height),this.zIndex=r(0,h),this.reflow(e)},i.prototype.reflow=function(e,t){this.x=this.left+this.width/2,this.y=this.top+this.height/2,this.el[0].style.zIndex=this.zIndex,t?(this.el[0].style.left=this.left,this.el[0].style.top=this.top):this.el.animate({left:this.left,top:this.top},r(f,p),"easeOutBack",e)},i.prototype.start=function(){this.reset(),this.moving=!0,this.autoMove()},i.prototype.reset=function(){this.el.stop(!0,!0),this.lucky=!1,this.el[0].className="",this.el[0].style.width=l+"px",this.el[0].style.height=u+"px",this.width=this.el.width(),this.height=this.el.height(),this._maxTop=a-this.height,this._maxLeft=s-this.width},i.prototype.autoMove=function(){var e=this;this.moving&&this.move(function(){e.autoMove()})},i.prototype.stop=function(){this.el.stop(!0,!0),this.moving=!1},i.prototype.bang=function(){this.lucky=!0,this.el[0].className="selected",this.width=c,this.height=d,this.left=(s-this.width)/2,this.top=(a-this.height)/2,this.el.animate({left:this.left,top:this.top,width:this.width,height:this.height},g)},i.prototype.beginHit=function(){this._xMove=0,this._yMove=0},i.prototype.hitMove=function(){this.left+=this._xMove,this.top+=this._yMove,this.top=0>this.top?0:this.top>this._maxTop?this._maxTop:this.top,this.left=0>this.left?0:this.left>this._maxLeft?this._maxLeft:this.left,this.reflow(null,!1)}});