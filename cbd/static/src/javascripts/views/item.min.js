define(function(e,t,n){var i=e("underscore"),r=e("backbone"),o=e("../vendors/util"),a=o.TPL.get,s=r.View.extend({template:i.template(a.call(o.TPL,"item")),className:"waterFallItem",tagName:"div",initialize:function(){this.$el=$(this.el),this.model.bind("change",this.render,this)},events:{"vclick .clickUrl":"openUrl"},openUrl:function(){if(window.appConfig.debug)window.open(this.model.get("cUrl"));else{var t=e("childbrowser");t.plugins.childBrowser.showWebPage(this.model.get("cUrl"),{showLocationBar:!0})}},render:function(){var e=this.model.toJSON(),t=o.TOOL.getPicSize();e.uPic?e.uPic+="_"+t+"x"+t+".jpg":e.pUrl+="_"+t+"x"+t;var n=e.pic_size,i=o.getWaterFalColWidth()*n.h/n.w;return e.imgShowH=i,this.$el.html(this.template(e)),this}});n.exports=s});